<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Mafia Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>
  <body style="font-family: system-ui; padding: 16px;">
    <h2>üé≠ –ú–∞—Ñ–∏—è ‚Äî Mini App</h2>
    <div id="info">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>

    <button id="join" style="padding:12px 16px; font-size:16px;">‚úÖ Join (–ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞)</button>

    <script>
      const tg = window.Telegram?.WebApp;
      const params = new URLSearchParams(window.location.search);
      const chatId = params.get("chat_id");

      const user = tg?.initDataUnsafe?.user;
      document.getElementById("info").innerHTML = `
        <p><b>chat_id:</b> ${chatId ?? "–Ω–µ –ø–µ—Ä–µ–¥–∞–Ω"}</p>
        <p><b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</b> ${user ? (user.first_name + " (" + user.id + ")") : "–Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω"}</p>
        <p>–î–∞–ª—å—à–µ —Ç—É—Ç –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Join/—Ä–æ–ª–∏/–Ω–æ—á—å/–≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ.</p>
      `;

      document.getElementById("join").onclick = () => {
        alert("Join –Ω–∞–∂–∞–ª–∏! –ü–æ–∑–∂–µ –ø–æ–¥–∫–ª—é—á–∏–º —Å–µ—Ä–≤–µ—Ä.");
      };

      tg?.ready();
      tg?.expand();
    </script>
  </body>
</html>
